
// hero/hero.proto
syntax = "proto3";

package order;

service OrderService {
  rpc FindAll (Fail) returns (ResDataList) {}
  rpc Create (CreateOrder) returns (ResData) {}
}

message Fail {}

message Volume {
  string id = 1;
  string type = 2;
  string size = 3;
  int32 weight = 4;
  int32 price = 5;
  string imageUrl = 6;
}

message ToppingsPrices {
  string id = 1;
  string sm = 2;
  int32 price = 3;
}

message Topping {
  string id = 1;
  string name = 2;
  ToppingsPrices toppingPrices = 3;
  string imageUrl = 4;
}

message DisabledToppings {
  string id = 1;
  string name = 2;
}

message OrderItem {
  string type = 1;
  string id = 2;
  string name = 3;
  int32 quantity = 4;
  int32 productTotalPrice = 5;
  Volume variant = 6;
  repeated Topping topping = 7;
  repeated DisabledToppings disabledToppings = 8;
}

message CreateOrder {
    string user = 1;
    int32 totalprice = 2;
    string status = 3;
    string address = 4;
    repeated OrderItem items = 5;
}

message Data {
  string id = 1;
  string user = 2;
  int32 totalprice = 3;
  string status = 4;  
  string address = 5;
  repeated OrderItem items = 6;
  string createAt = 7;
}

message Meta {
    int32 statusCode = 1;
    string message = 2;
}

message ResData {
    Meta meta = 1;
    Data data = 2;
}

message ResDataList {
    Meta meta = 1;
    repeated Data data = 2;
}

